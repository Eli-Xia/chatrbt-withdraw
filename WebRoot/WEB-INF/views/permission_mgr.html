<link rel="stylesheet" href="${base}/res/css/permission_mgr.css">

<div id="permission-mgr">
    <#include "/templates/modal_edit_pms.html" encoding="utf-8">
    <#include "/templates/modal_del_confirm.html" encoding="utf-8">
    <div class="box">
      <div class="box-header">
        <button type="button" class="btn btn-primary" @click="onAddPermission"><i class="fa fa-plus"></i>&nbsp;&nbsp; 新资源</button>
      </div>
      <!-- /.box-header -->
      <div class="box-body">
        <table id="example1" class="table table-bordered table-striped">
          <thead>
            <tr>
              <th>ID</th>
              <th>资源名称</th>
              <th>资源</th>
              <th>允许角色</th>
              <th>描述</th>
              <th class="gw-tr-width">操作</th>
            </tr>
          </thead>
          <tbody class="gw-tbody">
            <tr  v-for = "item in sourceList">
              <td>{{item.id}}</td>
              <td>{{item.name}}</td>
              <td>{{item.res}}</td>
              <td id="role-status"><span v-for="role in item.allowRoles">{{role}}</span></td>
              <td>{{item.description}}</td>
              <td class="gw-list-item-oper">
                <button type="button" class="btn btn-block btn-info btn-xs btn-gw-show" @click="onEditPermission(item)">编辑</button>
                <button type="button" class="btn btn-block btn-danger btn-xs btn-gw-show" @click="deletePsm(item.id)">删除</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <nav class="deco-pagination-container">
        <ul class="page">
          <li>
            <button href="#" aria-label="Previous" class="prev-page" @click="prevPage">
              <span aria-hidden="true">&laquo;</span>
            </button>
          </li>
          <li id="page"></li>
          <li>
            <button href="#" aria-label="Next" class="next-page" @click="nextPage">
              <span aria-hidden="true">&raquo;</span>
            </button>
          </li>
        </ul>
      </nav>
    </div><!-- /.box-body -->
  </div>
<script src="${base}/res/js/permission_mgr.js" type="text/javascript" charset="utf-8"></script>